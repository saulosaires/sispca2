<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions"> 

 
<body>
	<ui:composition template="/template/template.xhtml">
		<ui:define name="conteudo">

			<h:form>

				<div class="container-fluid row-fluid">
					<div class="span12">
						<p:messages closable="true" />
					</div>
					<legend class="outBusc">Avaliação Setorial do Programa</legend>
				</div>

				<div class="row-fluid">
					<div class="span12">
						<fieldset>
						
							 <p:panel id="panelDot">
								 <div class="span12 spaceParamBusca">
								 	<div class="span3">
										<h:outputText styleClass="labelOutText" value="PÁGINA INICIAL DO RELATÓRIO " />
									</div>
								 	<div class="span3">
										<p:inputNumber id="pages" value="#{avaliacaoProgramaMBean.pages}" />
									</div>
									<br/>
									<div class="span3">	 
										<h:commandButton value="Imprimir" styleClass="btn btn-primary btnAction" 
														 actionListener="#{avaliacaoProgramaMBean.imprimirTodos()}" onclick="this.form.target='_blank'" />
										 
									</div>	
								</div>
							</p:panel>
						
							<div class="span12 spaceParamBusca">
								<div class="span12">
									<div class="span3">
										<h:outputText styleClass="labelOutText" value="CÓDIGO DO PROGRAMA: " />
									</div>
									<div class="span3">
										<h:inputText id="inpCod" value="#{avaliacaoProgramaMBean.codigoPrograma}" styleClass="form-control input-sm" />
									</div>
									
								</div>
								
								
								<div class="span12">
										<div class="span3">
											<h:outputText value="EIXOS: " styleClass="labelOutText"/>
										</div>
										<div class="span3">
											<h:selectOneMenu id="inputEixo" value="#{avaliacaoProgramaMBean.eixoId}" styleClass="form-control input-sm">
												<f:selectItem itemValue="#{null}" itemLabel="--SELECIONE--"/>
												<f:selectItems value="#{avaliacaoProgramaMBean.listEixos}" var="eixo" itemValue="#{eixo.id}" itemLabel="#{fn:toUpperCase(eixo.descricao)}"/>
											</h:selectOneMenu>											
										</div>
								</div>
								
								
							</div>
							
							<br />
								<div class="form-group">
									<div class="col-sm-offset-7 col-sm-10">
										<h:commandButton value="Pesquisar" styleClass="btn btn-primary btnAction">
											<f:ajax
												execute="@this inpCod inputEixo"
												event="click" listener="#{avaliacaoProgramaMBean.buscarProgramas()}"
												render="tabelaprogramas" />
												
										</h:commandButton>
									 
									</div>
								</div>
							

							
							
						</fieldset>
					</div>
				</div>




				<div class="spaceContainerForm">
					<div class="container-fluid">
						<div class="row">
							<p:dataTable var="prog" value="#{avaliacaoProgramaMBean.listPrograma}" paginator="true" sortBy="#{prog.orgao.codigo}" id="tabelaprogramas"
										 rows="15" style="margin-right: 2%; font-size: 12px;">
								
								<p:column headerText="Órgão" widthr="30%">
									<h:outputText value="(#{prog.orgao.codigo}) - #{prog.orgao.descricao}"/>
								</p:column>	
								
								<p:column headerText="Programa" widthr="30%">
									<h:outputText value="(#{prog.codigo}) - #{prog.denominacao}"/>
								</p:column>							
														
								<p:column headerText="Diretriz" width="6%">		
									<h:button value="diretriz"    outcome="avaliacaoSetorialProgramaDiretrizAssociada" styleClass="btn btn-primary"  >
								 	  <f:param name="id" value="#{prog.id}" /> 
									</h:button>
								</p:column>	
								
								<p:column headerText="Painel" width="6%">
									<h:button value="Painel"    outcome="avaliacaoSetorialProgramaPainelAssociado" styleClass="btn btn-default"  >
								 	  <f:param name="id" value="#{prog.id}" /> 
									</h:button>
								</p:column>		
														
								<p:column headerText="intermediário" width="6%">
									<h:button value="Interm."    outcome="avaliacaoSetorialProgramaIntermediario" styleClass="btn btn-primary"  >
								 	  <f:param name="id" value="#{prog.id}" /> 
									</h:button>
								</p:column>	
								
								<p:column headerText="Análise" width="6%">
									<h:button value="Análise"    outcome="avaliacaoSetorialProgramaAnalise" styleClass="btn btn-default"  >
								 	  <f:param name="id" value="#{prog.id}" /> 
									</h:button>
								</p:column>		
								
								<p:column headerText="Físico/Finac." width="9%">
									<h:button value="Físico/Finac."    outcome="avaliacaoSetorialProgramaFisicoFinanceiro" styleClass="btn btn-primary"  >
								 	  <f:param name="id" value="#{prog.id}" /> 
									</h:button>
								</p:column>	
														
								<p:column headerText="Resultado" width="9%">
									<h:button value="Resultado"    outcome="avaliacaoSetorialProgramaResultado" styleClass="btn btn-default"  >
								 	  <f:param name="id" value="#{prog.id}" /> 
									</h:button>
								</p:column>	
								
								<p:column headerText="Recomendação" width="9%">
									<h:button value="Recomendação"    outcome="avaliacaoSetorialProgramaRecomendacao" styleClass="btn btn-primary"  >
								 	  <f:param name="id" value="#{prog.id}" /> 
									</h:button>
								</p:column>	
 
														 
								<p:column headerText="Acomp" width="4%">
									<h:commandButton image="/resources/images/icone-pdf.gif"  actionListener="#{avaliacaoProgramaMBean.gerarRelatorio(prog)}" title="Acompanhamento da avaliação para o programa" onclick="this.form.target='_blank'"  style="margin-left: 2%; width: 20px; height: 20px;">
									     <f:param name="id" value="#{prog.id}" /> 
									</h:commandButton>
								</p:column>								
							</p:dataTable>
											
		    			</div>					
					</div>
				</div>
			</h:form>
		</ui:define>
	</ui:composition>
</body>
</html>
